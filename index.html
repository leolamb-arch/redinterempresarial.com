<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Despacho Contable & Fiscal</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Fuente -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- LOGO -->
    <img
        id="logo"
        class="animar animar-logo"
        src="rilogo.png" 
        alt="Logo del Despacho Contable">

    <!-- TÍTULOS -->
    <h1 class="animar animar-titulo">Despacho Contable & Fiscal</h1>
    <h2 class="animar animar-subtitulo">Red Interempresarial Especialistas Contables - Fiscales</h2>

    <!-- TARJETA PRINCIPAL -->
    <div class="form-card animar animar-card">

        <!-- OPCIONES -->
        <ul class="opciones-formulario animar">

            <li class="caja">
                <a href="vision.html" target="_blank">
                    Nuestra Visión
                </a>
            </li>

            <li class="caja">
                <a href="mision.html">
                    Nuestra Misión
                </a>
            </li>

            <li class="caja">
                <a href="quienes-somos.html">
                    ¿Quiénes somos?
                </a>
            </li>

            <li class="caja">
                <a href="contabilidad.html">
                    Contabilidad
                </a>
            </li>

            <li class="caja">
                <a href="contactanos.html">
                    Asesoria Personalizada
                </a>
            </li>

        </ul>

        <!-- FORMULARIO -->
        <form id="contacto">
            
            <div class="campo animar">
                <input type="text" name="nombre" placeholder="Nombre completo" required>
            </div>

            <div class="campo animar">
                <input type="email" name="correo" placeholder="Correo electrónico" required>
            </div>

            <div class="campo animar">
                <input
                    id="telefono"
                    name="telefono"
                    type="tel"
                    placeholder="+52 (55) 1234 5678"
                    inputmode="tel"
                    required
                    title="Ingresa tu número con lada mexicana"
                >
            </div>

            <div class="campo animar">
                <input type="text" name="asunto" placeholder="Asunto" required>
            </div>

            <button class="animar" type="submit">
                Enviar información
            </button>

        </form>

    </div>

    <!-- ACTIVAR ANIMACIONES -->
    <script>
        window.addEventListener("load", () => {
            document.querySelectorAll(".animar").forEach((el, i) => {
                setTimeout(() => {
                    el.classList.add("activo");
                }, i * 80);
            });
        });
    </script>

    <!-- ENVÍO A GOOGLE SHEETS -->
    <script>
    document.getElementById("contacto").addEventListener("submit", function(e) {
        e.preventDefault();

        const datos = new FormData(this);

        fetch(https://script.google.com/a/macros/redinterempresarial.com/s/AKfycbzE8W1nFP6gKrJknWCN6W5sS4FCaJy-ur7-WMX-7sLtKDa47XZRGSuAPRvpyLSyRgTqEQ/exec, {
            method: "POST",
            body: datos
        })
        .then(response => {
            alert("Información enviada correctamente");
            this.reset();
        })
        .catch(error => {
            alert("Hubo un error al enviar");
        });
    });
    </script>

    <!-- SONIDO CLICK -->
    <audio id="click-sound" preload="auto">
        <source src="Sound FX/creatorshome-digital-click-357350.mp3" type="audio/mpeg">
    </audio>

    <script>
        const clickSound = document.getElementById("click-sound");

        document.querySelectorAll(".opciones-formulario .caja a")
            .forEach(opcion => {
                opcion.addEventListener("click", () => {
                    clickSound.currentTime = 0;
                    clickSound.play();
                });
            });
    </script>

    <script>
    const telefono = document.getElementById("telefono");

    telefono.addEventListener("input", () => {
        let valor = telefono.value.replace(/\D/g, "");

        if (valor.startsWith("52")) {
            valor = valor.slice(2);
        }

        valor = valor.slice(0, 10);

        let resultado = "+52";

        if (valor.length > 0) {
            resultado += " (" + valor.substring(0, 2);
        }
        if (valor.length >= 3) {
            resultado += ") " + valor.substring(2, 6);
        }
        if (valor.length >= 7) {
            resultado += " " + valor.substring(6, 10);
        }

        telefono.value = resultado;
    });
    </script>

</body>
</html>

